(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{7415:function(e,r,t){Promise.resolve().then(t.bind(t,5287))},5287:function(e,r,t){"use strict";t.d(r,{default:function(){return n}});var a=t(7437),s=t(2265),l=t(1694),i=t(5978),o=t(9376);function n(e){let{params:r}=e,[t,n]=(0,s.useState)({title:"",overview:"",rating:"",posterUrl:"",releaseDate:"",tmdbId:0}),[d,c]=(0,s.useState)(!0),u=(0,o.useRouter)();(0,s.useEffect)(()=>{b()},[]);let b=async()=>{try{let t=await (0,i.QT)((0,i.JU)(l.db,"movies",r.id));if(t.exists()){var e;let r=t.data();n({title:r.title||"",overview:r.overview||"",rating:(null===(e=r.rating)||void 0===e?void 0:e.toString())||"",posterUrl:r.posterUrl||"",releaseDate:r.releaseDate||"",tmdbId:r.tmdbId||0})}}catch(e){console.error("Error fetching movie:",e)}finally{c(!1)}},g=async e=>{e.preventDefault(),c(!0);try{await (0,i.r7)((0,i.JU)(l.db,"movies",r.id),{...t,rating:Number(t.rating),updatedAt:new Date().toISOString()}),u.push("/movies")}catch(e){console.error("Error updating movie:",e)}finally{c(!1)}};return d?(0,a.jsx)("div",{className:"text-center p-8",children:"Loading..."}):(0,a.jsx)("div",{className:"min-h-screen bg-[#0B0C0F] py-8 text-white",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"bg-[#1A1C22] rounded-lg border border-gray-800 p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6 text-[#1CE783]",children:"Edit Movie"}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2 text-gray-300",children:"Movie Title"}),(0,a.jsx)("input",{type:"text",value:t.title,onChange:e=>n({...t,title:e.target.value}),className:"w-full p-3 bg-[#0B0C0F] border border-gray-700 rounded-lg    text-white focus:border-[#1CE783] focus:outline-none",required:!0})]}),t.posterUrl&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"mb-2 block text-gray-300",children:"Poster Preview"}),(0,a.jsx)("div",{className:"relative w-48 h-72 mx-auto",children:(0,a.jsx)("img",{src:t.posterUrl,alt:t.title,className:"rounded-lg object-cover shadow-lg"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2 text-gray-300",children:"Overview"}),(0,a.jsx)("textarea",{value:t.overview,onChange:e=>n({...t,overview:e.target.value}),className:"w-full p-3 bg-[#0B0C0F] border border-gray-700 rounded-lg    text-white focus:border-[#1CE783] focus:outline-none",rows:4,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2 text-gray-300",children:"Rating (0-10)"}),(0,a.jsx)("input",{type:"number",min:"0",max:"10",step:"0.1",value:t.rating,onChange:e=>n({...t,rating:e.target.value}),className:"w-full p-3 bg-[#0B0C0F] border border-gray-700 rounded-lg    text-white focus:border-[#1CE783] focus:outline-none",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2 text-gray-300",children:"Release Date"}),(0,a.jsx)("input",{type:"date",value:t.releaseDate.split("T")[0],onChange:e=>n({...t,releaseDate:e.target.value}),className:"w-full p-3 bg-[#0B0C0F] border border-gray-700 rounded-lg    text-white focus:border-[#1CE783] focus:outline-none",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2 text-gray-300",children:"Poster URL"}),(0,a.jsx)("input",{type:"url",value:t.posterUrl,onChange:e=>n({...t,posterUrl:e.target.value}),className:"w-full p-3 bg-[#0B0C0F] border border-gray-700 rounded-lg    text-white focus:border-[#1CE783] focus:outline-none",required:!0})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 mt-8",children:[(0,a.jsx)("button",{type:"button",onClick:()=>u.push("/movies"),className:"px-6 py-3 border border-gray-700 rounded-lg text-gray-300    hover:bg-gray-800 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"px-6 py-3 bg-[#1CE783] text-black rounded-lg    hover:bg-[#15b066] transition-colors disabled:opacity-50",children:d?"Saving...":"Save Changes"})]})]})]})})})}},1694:function(e,r,t){"use strict";t.d(r,{I:function(){return o},db:function(){return n}});var a=t(738),s=t(5978),l=t(4752);let i=(0,a.ZF)({apiKey:"AIzaSyAXxTAFt0nmeRb3l-38l6UZAjfNy2Wyz3M",authDomain:"moviezz-mania.firebaseapp.com",projectId:"moviezz-mania",storageBucket:"moviezz-mania.firebasestorage.app",messagingSenderId:"546749825581",appId:"1:546749825581:web:85d18b157bab13d3ddaea4"}),o=(0,l.v0)(i),n=(0,s.ad)(i);(0,l.Fb)(o,l.a$)}},function(e){e.O(0,[358,400,40,971,117,744],function(){return e(e.s=7415)}),_N_E=e.O()}]);