(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{64:function(e,t,r){Promise.resolve().then(r.bind(r,5887))},5887:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(7437),s=r(2265),n=r(1694),i=r(5978),o=r(9376),d=r(7648),l=r(1817),c=r(9397),u=r(9205);let m=(0,u.Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),f=(0,u.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var h=r(6070),x=r(2869),v=r(3145);function p(){let[e,t]=(0,s.useState)([]),[r,u]=(0,s.useState)(!0),[p,g]=(0,s.useState)(null);(0,o.useRouter)(),(0,s.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=(await (0,i.PL)((0,i.hJ)(n.db,"movies"))).docs.map(e=>({id:e.id,...e.data()}));t(e)}catch(e){console.error("Error fetching movies:",e),g("Failed to load movies")}finally{u(!1)}},y=async e=>{if(!n.I.currentUser){g("You must be logged in to delete movies");return}if(confirm("Are you sure you want to delete this movie?"))try{let r=(0,i.JU)(n.db,"movies",e);await (0,i.oe)(r),t(t=>t.filter(t=>t.id!==e)),g(null)}catch(e){console.error("Error deleting movie:",e),g("Failed to delete movie. Please try again.")}};return r?(0,a.jsx)("div",{className:"min-h-screen bg-[#0B0C0F] flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-8 h-8 text-[#1CE783] animate-spin"})}):(0,a.jsx)("div",{className:"min-h-screen bg-[#0B0C0F] text-white",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8 sticky top-2",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-white",children:"My Collection"}),(0,a.jsx)(d.default,{href:"/movies/add",children:(0,a.jsxs)(x.z,{className:"bg-[#1CE783] hover:bg-[#15B76C] text-black font-medium",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 mr-2"}),"Add New Movie"]})})]}),p&&(0,a.jsx)("div",{className:"bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded mb-6",children:p}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3 md:gap-6",children:e.map(e=>(0,a.jsxs)(h.Zb,{className:"bg-[#1A1C22] border-none overflow-hidden group",children:[(0,a.jsxs)("div",{className:"relative aspect-[2/3] text-white",children:[(0,a.jsx)(v.default,{src:e.posterUrl||"/api/placeholder/400/600",alt:e.title,fill:!0,className:"object-cover transition-transform group-hover:scale-105",sizes:"(max-width: 640px) 50vw, 25vw"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-70 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(d.default,{href:"/movies/edit/".concat(e.id),children:(0,a.jsx)(x.z,{variant:"outline",size:"sm",className:"bg-transparent border-white text-white hover:bg-white/20",children:(0,a.jsx)(m,{className:"w-4 h-4"})})}),(0,a.jsx)(x.z,{variant:"outline",size:"sm",onClick:()=>y(e.id),className:"bg-transparent border-red-500 text-red-500 hover:bg-red-500/20",children:(0,a.jsx)(f,{className:"w-4 h-4"})})]})})]}),(0,a.jsxs)("div",{className:"p-3 md:p-4 space-y-1 md:space-y-2",children:[(0,a.jsx)("h2",{className:"font-semibold text-sm md:text-lg line-clamp-1 text-white",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center text-xs md:text-sm text-white",children:["Rating: ",e.rating,"/10"]})]})]},e.id))}),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"text-white mb-4",children:"Your collection is empty"}),(0,a.jsx)(d.default,{href:"/movies/add",children:(0,a.jsxs)(x.z,{className:"bg-[#1CE783] hover:bg-[#15B76C] text-black font-medium",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 mr-2"}),"Add Your First Movie"]})})]})]})})}},2869:function(e,t,r){"use strict";r.d(t,{d:function(){return d},z:function(){return l}});var a=r(7437),s=r(2265),n=r(7495),i=r(535),o=r(4508);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:l=!1,...c}=e,u=l?n.g7:"button";return(0,a.jsx)(u,{className:(0,o.cn)(d({variant:s,size:i,className:r})),ref:t,...c})});l.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},Zb:function(){return i},aY:function(){return l},ll:function(){return d}});var a=r(7437),s=r(2265),n=r(4508);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});l.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:l="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:d?24*Number(o)/Number(s):o,className:n("lucide",l),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{className:d,...l}=r;return(0,a.createElement)(o,{ref:i,iconNode:t,className:n("lucide-".concat(s(e)),d),...l})});return r.displayName="".concat(e),r}},1817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1694:function(e,t,r){"use strict";r.d(t,{I:function(){return o},db:function(){return d}});var a=r(738),s=r(5978),n=r(4752);let i=(0,a.ZF)({apiKey:"AIzaSyAXxTAFt0nmeRb3l-38l6UZAjfNy2Wyz3M",authDomain:"moviezz-mania.firebaseapp.com",projectId:"moviezz-mania",storageBucket:"moviezz-mania.firebasestorage.app",messagingSenderId:"546749825581",appId:"1:546749825581:web:85d18b157bab13d3ddaea4"}),o=(0,n.v0)(i),d=(0,s.ad)(i);(0,n.Fb)(o,n.a$)}},function(e){e.O(0,[358,400,40,569,648,145,971,117,744],function(){return e(e.s=64)}),_N_E=e.O()}]);