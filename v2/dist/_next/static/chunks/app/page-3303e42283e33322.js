(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2447:function(e,s,t){Promise.resolve().then(t.bind(t,7340))},7340:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(7437),r=t(2265),i=t(1694),l=t(5978),d=t(9376),o=t(7648),n=t(3145);function c(){let e=(0,d.useRouter)(),[s,t]=(0,r.useState)(""),[c,m]=(0,r.useState)({totalMovies:0,recentMovies:0,averageRating:0,recentMoviePosters:[]}),[x,g]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let s=i.I.onAuthStateChanged(s=>{s?(t(s.email?s.email.split("@")[0]:"Admin"),h(s.uid)):e.push("/login")});return()=>s()},[e]);let h=async e=>{try{let e=(0,l.IO)((0,l.hJ)(i.db,"movies"),(0,l.Xo)("createdAt","desc"),(0,l.b9)(6)),s=await (0,l.PL)(e),t=s.docs.map(e=>({id:e.id,posterUrl:e.data().posterUrl,title:e.data().title})),a=await (0,l.PL)((0,l.hJ)(i.db,"movies")),r=0;a.docs.forEach(e=>{r+=e.data().rating||0}),m({totalMovies:a.size,recentMovies:s.size,averageRating:a.size>0?Number((r/a.size).toFixed(1)):0,recentMoviePosters:t})}catch(e){console.error("Error fetching stats:",e)}finally{g(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#0B0C0F] text-white",children:[(0,a.jsx)("nav",{className:"bg-[#1A1C22] border-b border-gray-800",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-[#1CE783]",children:"MovieDB"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-gray-300",children:["Welcome, ",s]}),(0,a.jsx)("button",{onClick:()=>i.I.signOut(),className:"bg-[#1CE783] text-black px-4 py-2 rounded hover:bg-[#15b066] transition-colors",children:"Sign Out"})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-[#1A1C22] p-6 rounded-lg border border-gray-800",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Total Movies"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-[#1CE783]",children:c.totalMovies})]}),(0,a.jsxs)("div",{className:"bg-[#1A1C22] p-6 rounded-lg border border-gray-800",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Average Rating"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-[#1CE783]",children:[c.averageRating,"/10"]})]}),(0,a.jsxs)("div",{className:"bg-[#1A1C22] p-6 rounded-lg border border-gray-800",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"Recent Additions"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-[#1CE783]",children:c.recentMovies})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)(o.default,{href:"/movies/add",className:"bg-[#1A1C22] p-6 rounded-lg border border-gray-800 hover:bg-[#252830] transition-colors",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-[#1CE783] mb-2",children:"Add New Movie"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Search and add movies to your collection"})]}),(0,a.jsxs)(o.default,{href:"/movies",className:"bg-[#1A1C22] p-6 rounded-lg border border-gray-800 hover:bg-[#252830] transition-colors",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-[#1CE783] mb-2",children:"View Collection"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Browse and manage your movie collection"})]})]}),(0,a.jsxs)("div",{className:"bg-[#1A1C22] rounded-lg border border-gray-800 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Recent Additions"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[c.recentMoviePosters.map(e=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"aspect-[2/3] rounded-lg overflow-hidden",children:(0,a.jsx)(n.default,{src:e.posterUrl,alt:e.title,fill:!0,className:"object-cover transform group-hover:scale-105 transition-transform duration-200"})}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-2",children:(0,a.jsx)("p",{className:"text-sm text-white truncate",children:e.title})})]},e.id)),0===c.recentMoviePosters.length&&(0,a.jsx)("div",{className:"col-span-full text-center text-gray-500 py-8",children:"No movies added yet"})]})]})]})]})}},1694:function(e,s,t){"use strict";t.d(s,{I:function(){return d},db:function(){return o}});var a=t(738),r=t(5978),i=t(4752);let l=(0,a.ZF)({apiKey:"AIzaSyAXxTAFt0nmeRb3l-38l6UZAjfNy2Wyz3M",authDomain:"moviezz-mania.firebaseapp.com",projectId:"moviezz-mania",storageBucket:"moviezz-mania.firebasestorage.app",messagingSenderId:"546749825581",appId:"1:546749825581:web:85d18b157bab13d3ddaea4"}),d=(0,i.v0)(l),o=(0,r.ad)(l);(0,i.Fb)(d,i.a$)}},function(e){e.O(0,[358,400,40,648,145,971,117,744],function(){return e(e.s=2447)}),_N_E=e.O()}]);